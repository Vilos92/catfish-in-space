!function(){"use strict";var e,t={1628:function(e,t,n){var r=n(5318),o=r(n(7757));n(5218),n(1539),n(8674);var i=r(n(8926)),a=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},u=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};Object.defineProperty(t,"__esModule",{value:!0}),t.onLoad=t.onResize=t.setupWindowHooks=t.createApp=t.setupKeybinds=void 0;var c,d=(c=n(9842))&&c.__esModule?c:{default:c},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return u(t,e),t}(n(6216)),p=n(6304),s=n(91),f=n(8),y=n(2310),v=n(4106),E=n(7592),m=n(353);function O(){return(O=(0,i.default)(o.default.mark((function e(t,n,r){var i,a,u,c,d,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t(),a=E.getViewport(i).dimension,u=y.getPlayer(i),r.resize(a.width,a.height),u.gameElement){e.next=6;break}return e.abrupt("return");case 6:c=m.calculateViewportCoordinate(u.gameElement.coordinate,a),n(v.updateViewportCoordinateAction(c)),d=u.gameElement.pixiSprite,l=m.calculatePositionRelativeToViewport(d,E.getViewport(i).coordinate),d.position.set(l.x,l.y);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=(0,i.default)(o.default.mark((function e(t,n,r,i,a,u){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:document.body.appendChild(u),h(t,n,r,0,a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return b.apply(this,arguments)}function b(){return(b=(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=l.Loader.shared;n.add("rabbit","./assets/simpleSpriteSheet.json"),n.add("spaceship","./assets/sprites/nightraiderfixed.png"),n.onComplete.once((function(){e()})),n.onError.once((function(){t()})),n.load()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,n,r,o){var i,a,u,c,p=e(),s=E.getViewport(p),y=(i=s.coordinate,a={x:0,y:0},u=m.calculatePositionRelativeToViewport(a,i),(c=new l.Sprite(l.Texture.from("spaceship"))).scale.set(.5,.5),c.anchor.set(.5,.5),c.position.set(u.x,u.y),{coordinate:a,rotation:0,matterBody:d.default.Bodies.rectangle(a.x,a.y,c.width,c.height,{mass:55e4}),pixiSprite:c});t(f.updatePlayerGameElementAction(y)),A(t,n,o,y);var v=P(s,{x:600,y:-100}),O=P(s,{x:-600,y:100});A(t,n,o,v),A(t,n,o,O)}function A(e,t,n,r){r.matterBody&&d.default.Composite.add(t,r.matterBody),n.addChild(r.pixiSprite),e(p.pushGameElementAction(r))}function P(e,t){var n=Math.random()*(2*Math.PI),r=m.calculatePositionRelativeToViewport(t,e.coordinate),o=new l.Graphics;return o.beginFill(11119017),o.lineStyle(5,11119017),o.drawRect(r.x,r.y,300,200),o.endFill(),o.pivot.set(r.x+150,r.y+100),o.rotation=n,{coordinate:t,rotation:n,matterBody:d.default.Bodies.rectangle(t.x,t.y,o.width,o.height,{mass:55e4,angle:n}),pixiSprite:o}}t.setupKeybinds=function(e){window.addEventListener("keydown",(function(t){var n=t.code;e(s.keyDownAction(n))}),!1),window.addEventListener("keyup",(function(t){var n=t.code;e(s.keyUpAction(n))}),!1)},t.createApp=function(e){var t=e(),n=E.getViewport(t).dimension,r=n.width,o=n.height;return new l.Application({backgroundColor:2105376,width:r,height:o,resolution:window.devicePixelRatio,autoDensity:!0})},t.setupWindowHooks=function(e,t){window.onload=e,window.addEventListener("resize",t)},t.onResize=function(e,t,n){return O.apply(this,arguments)},t.onLoad=function(e,t,n,r,o,i){return g.apply(this,arguments)}},8699:function(e,t,n){n(7941),n(2526),n(7327),n(5003),n(9337);var r=n(5318);n(1249),n(4747),n(6992),n(1532),n(1539),n(8783),n(3948);var o=r(n(7757)),i=r(n(9713)),a=r(n(8926));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},l=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};Object.defineProperty(t,"__esModule",{value:!0}),t.gameLoop=t.startGame=void 0;var p,s=(p=n(9842))&&p.__esModule?p:{default:p},f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return l(t,e),t}(n(6216)),y=n(1628),v=n(1628),E=n(2330),m=n(3086),O=n(6304),g=n(710),_=n(9258),b=n(7618),h=n(2310),A=n(4106),P=n(7592),w=n(204),T=n(1230),S=n(3142),M=n(353);function j(e,t,n,r,o,i){!function(e,t,n){var r=e(),o=b.getKeyboard(r),i=h.getPlayer(r),a=P.getViewport(r);if(i.gameElement){var u=i.gameElement.matterBody;if(u){T.addForceToPlayerMatterBodyFromKeyboard(o,u);var c=n.plugins.interaction.mouse.global;T.addForceToPlayerMatterBodyFromMouseCoordinate(t,c,a.coordinate,u,i.pidState)}}}(e,t,r),function(e,t){var n=e(),r=g.getGameElements(n).map((function(e){var t=e.matterBody;if(!t)return e;var n=t.position,r=(2*Math.PI+t.angle)%(2*Math.PI);return c(c({},e),{},{coordinate:n,rotation:r})}));t(O.updateGameElementsAction(r))}(e,t),function(e){var t=e(),n=P.getViewport(t).coordinate;g.getGameElements(t).forEach((function(e){var t=M.calculatePositionRelativeToViewport(e.coordinate,n);e.pixiSprite.position.set(t.x,t.y),e.pixiSprite.rotation=e.rotation}))}(e),function(e,t){var n=e(),r=b.getKeyboard(n),o=P.getViewport(n),i=M.calculateUpdatedViewportCoordinateFromKeyboard(r,o.coordinate);t(A.updateViewportCoordinateAction(i))}(e,t),function(e,t,n){var r=e(),o=P.getViewport(r),i=m.getStarField(r),a=new Map(i),u=S.calculateParallaxViewportCoordinate(o.coordinate,S.BACKGROUND_PARALLAX_RATIO),c=S.calculateStarFieldBoundary(u,o.dimension);if(0===a.size)S.addStarsToField(n,o.coordinate,a,c.topLeft,c.bottomRight);else{S.pruneStarField(a,c.topLeft,c.bottomRight);var d=S.repositionStarField(u,a);S.populateStarField(n,u,a,c.topLeft,c.bottomRight,d.topLeft,d.bottomRight)}t(E.updateStarFieldAction(a))}(e,t,i),function(e,t,n){var r=e();!function(e,t,n){var r=new f.Graphics;r.lineStyle(1,65280),t.bodies.forEach((function(t){var n=t.vertices,o=M.calculatePositionRelativeToViewport(n[0],e);r.moveTo(o.x,o.y);for(var i=1;i<n.length;i++){var a=M.calculatePositionRelativeToViewport(n[i],e);r.lineTo(a.x,a.y)}r.lineTo(o.x,o.y)})),C&&C.destroy(),n.addChild(r),C=r}(P.getViewport(r).coordinate,t,n)}(e,n,o),r.render(o)}t.startGame=function(){var e=_.store.getState,t=M.calculateViewportCoordinate({x:0,y:0},{width:window.innerWidth,height:window.innerHeight});_.store.dispatch(A.updateViewportCoordinateAction(t));var n=s.default.Engine.create();n.world.gravity.y=0;var r=s.default.Runner.create(),i=y.createApp(e),u=i.renderer,c=i.stage,d=i.ticker,l=i.view,p=new f.Container;c.addChild(p);var E=new f.Container;c.addChild(E);var m=function(){var t=(0,a.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y.onResize(e,_.store.dispatch,u));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();m();var O=function(){var t=(0,a.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y.onLoad(e,_.store.dispatch,n.world,p,E,l));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();v.setupWindowHooks(O,m),y.setupKeybinds(_.store.dispatch),s.default.Runner.run(r,n),d.add((function(){return j(e,_.store.dispatch,n.world,u,E,p)})),d.start(),console.log("Welcome to Catfish in Space v".concat(w.VERSION))},t.gameLoop=j;var C=void 0},4909:function(e,t,n){n(1307),n(8699).startGame()},2330:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.updateStarFieldAction=t.BackgroundStageActionTypesEnum=void 0,function(e){e.UPDATE_STAR_FIELD_ACTION="UPDATE_STAR_FIELD_ACTION"}(n=t.BackgroundStageActionTypesEnum||(t.BackgroundStageActionTypesEnum={})),t.updateStarFieldAction=function(e){return{type:n.UPDATE_STAR_FIELD_ACTION,starField:e}}},8861:function(e,t,n){n(7941),n(2526),n(7327),n(5003),n(4747),n(9337);var r=n(5318)(n(9713));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(6992),n(1532),n(1539),n(8783),n(3948),Object.defineProperty(t,"__esModule",{value:!0}),t.backgroundStageReducer=t.initialState=void 0;var a=n(2330);t.initialState={starField:new Map},t.backgroundStageReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.initialState,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case a.BackgroundStageActionTypesEnum.UPDATE_STAR_FIELD_ACTION:return i(i({},e),{},{starField:n.starField});default:return e}}},3086:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getStarField=void 0,t.getStarField=function(e){return function(e){return e.backgroundStage}(e).starField}},6304:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.updateGameElementsAction=t.pushGameElementAction=t.GameElementActionTypesEnum=void 0,function(e){e.PUSH_GAME_ELEMENT_ACTION="PUSH_GAME_ELEMENT_ACTION",e.UPDATE_GAME_ELEMENTS_ACTION="UPDATE_GAME_ELEMENTS_ACTION"}(n=t.GameElementActionTypesEnum||(t.GameElementActionTypesEnum={})),t.pushGameElementAction=function(e){return{type:n.PUSH_GAME_ELEMENT_ACTION,gameElement:e}},t.updateGameElementsAction=function(e){return{type:n.UPDATE_GAME_ELEMENTS_ACTION,gameElements:e}}},5852:function(e,t,n){n(7941),n(2526),n(7327),n(5003),n(4747),n(9337);var r=n(5318);n(2222);var o=r(n(9713)),i=r(n(319));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.gameElementReducer=void 0;var c=n(6304),d={gameElements:[]};t.gameElementReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.GameElementActionTypesEnum.PUSH_GAME_ELEMENT_ACTION:var n=e.gameElements,r=[].concat((0,i.default)(n),[t.gameElement]);return u(u({},e),{},{gameElements:r});case c.GameElementActionTypesEnum.UPDATE_GAME_ELEMENTS_ACTION:return u(u({},e),{},{gameElements:t.gameElements});default:return e}}},710:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getGameElements=void 0,t.getGameElements=function(e){return function(e){return e.gameElement}(e).gameElements}},9258:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0;var r=n(8676),o=n(8861),i=n(5852),a=n(5546),u=n(900),c=n(4600),d=r.combineReducers({backgroundStage:o.backgroundStageReducer,gameElement:i.gameElementReducer,keyboard:a.keyboardReducer,player:u.playerReducer,viewport:c.viewportReducer});t.store=r.createStore(d)},91:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.keyUpAction=t.keyDownAction=t.KeyboardActionTypesEnum=void 0,function(e){e.KEY_DOWN_ACTION="KEY_DOWN_ACTION",e.KEY_UP_ACTION="KEY_UP_ACTION"}(n=t.KeyboardActionTypesEnum||(t.KeyboardActionTypesEnum={})),t.keyDownAction=function(e){return{type:n.KEY_DOWN_ACTION,keyCode:e}},t.keyUpAction=function(e){return{type:n.KEY_UP_ACTION,keyCode:e}}},5546:function(e,t,n){var r=n(5318);n(6992),n(1539),n(189),n(8783),n(3948),n(2479);var o,i=r(n(9713));Object.defineProperty(t,"__esModule",{value:!0}),t.keyboardReducer=void 0;var a,u=(a=n(8172))&&a.__esModule?a:{default:a},c=n(7599),d=n(91),l={isActive:!1},p={keyStateMap:(o={},(0,i.default)(o,c.KeyCodesEnum.KEY_A,l),(0,i.default)(o,c.KeyCodesEnum.KEY_D,l),(0,i.default)(o,c.KeyCodesEnum.KEY_S,l),(0,i.default)(o,c.KeyCodesEnum.KEY_W,l),(0,i.default)(o,c.KeyCodesEnum.KEY_I,l),(0,i.default)(o,c.KeyCodesEnum.KEY_J,l),(0,i.default)(o,c.KeyCodesEnum.KEY_K,l),(0,i.default)(o,c.KeyCodesEnum.KEY_L,l),o)},s=new Set(Object.values(c.KeyCodesEnum));t.keyboardReducer=u.default((function(e,t){var n=t.keyCode;if(s.has(n))switch(t.type){case d.KeyboardActionTypesEnum.KEY_DOWN_ACTION:e.keyStateMap[n].isActive=!0;break;case d.KeyboardActionTypesEnum.KEY_UP_ACTION:e.keyStateMap[n].isActive=!1}}),p)},7618:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyboard=void 0,t.getKeyboard=function(e){return e.keyboard}},8:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.updatePlayerPidStateAction=t.updatePlayerGameElementAction=t.PlayerActionTypesEnum=void 0,function(e){e.UPDATE_PLAYER_GAME_ELEMENT_ACTION="UPDATE_PLAYER_GAME_ELEMENT_ACTION",e.UPDATE_PLAYER_PID_STATE_ACTION="UPDATE_PLAYER_PID_STATE_ACTION"}(n=t.PlayerActionTypesEnum||(t.PlayerActionTypesEnum={})),t.updatePlayerGameElementAction=function(e){return{type:n.UPDATE_PLAYER_GAME_ELEMENT_ACTION,gameElement:e}},t.updatePlayerPidStateAction=function(e){return{type:n.UPDATE_PLAYER_PID_STATE_ACTION,pidState:e}}},900:function(e,t,n){n(7941),n(2526),n(7327),n(5003),n(4747),n(9337);var r=n(5318)(n(9713));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.playerReducer=t.initialState=void 0;var a=n(8);t.initialState={pidState:{integral:0,error:0,output:0}},t.playerReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.initialState,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case a.PlayerActionTypesEnum.UPDATE_PLAYER_GAME_ELEMENT_ACTION:return i(i({},e),{},{gameElement:n.gameElement});case a.PlayerActionTypesEnum.UPDATE_PLAYER_PID_STATE_ACTION:return i(i({},e),{},{pidState:n.pidState});default:return e}}},2310:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getPlayer=void 0,t.getPlayer=function(e){return e.player}},4106:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.updateViewportCoordinateAction=t.ViewportActionTypesEnum=void 0,function(e){e.UPDATE_VIEWPORT_COORDINATE_ACTION="UPDATE_VIEWPORT_COORDINATE_ACTION"}(n=t.ViewportActionTypesEnum||(t.ViewportActionTypesEnum={})),t.updateViewportCoordinateAction=function(e){return{type:n.UPDATE_VIEWPORT_COORDINATE_ACTION,coordinate:e}}},4600:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.viewportReducer=t.initialState=void 0;var r,o=(r=n(8172))&&r.__esModule?r:{default:r},i=n(4106),a=n(7592);t.initialState={coordinate:{x:0,y:0},dimension:a.getViewportDimension()},t.viewportReducer=o.default((function(e,t){switch(t.type){case i.ViewportActionTypesEnum.UPDATE_VIEWPORT_COORDINATE_ACTION:e.coordinate=t.coordinate}}),t.initialState)},7592:function(e,t,n){n(7941),n(2526),n(7327),n(5003),n(4747),n(9337);var r=n(5318)(n(9713));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.getViewportDimension=t.getViewport=void 0,t.getViewport=function(e){return i(i({},e.viewport),{},{dimension:t.getViewportDimension()})},t.getViewportDimension=function(){return{width:window.innerWidth,height:window.innerHeight}}},7599:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyCodesEnum=void 0,(n=t.KeyCodesEnum||(t.KeyCodesEnum={})).KEY_A="KeyA",n.KEY_D="KeyD",n.KEY_S="KeyS",n.KEY_W="KeyW",n.KEY_I="KeyI",n.KEY_J="KeyJ",n.KEY_K="KeyK",n.KEY_L="KeyL"},204:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.computeAngleBetween=t.computeBoundAngle=void 0,t.computeBoundAngle=function(e){var t=e%(2*Math.PI);return t<0?(2*Math.PI+t)%(2*Math.PI):t},t.computeAngleBetween=function(e,t){var n=e-t;return n>Math.PI?-2*Math.PI+n:n<-Math.PI?2*Math.PI+n:n}},7864:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDirectionFromOpposingKeys=t.KeyDirectionsEnum=void 0,function(e){e[e.NEGATIVE=-1]="NEGATIVE",e[e.NEUTRAL=0]="NEUTRAL",e[e.POSITIVE=1]="POSITIVE"}(n=t.KeyDirectionsEnum||(t.KeyDirectionsEnum={})),t.calculateDirectionFromOpposingKeys=function(e,t){return e===t?n.NEUTRAL:e?n.NEGATIVE:n.POSITIVE}},616:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createComputeNextPidState=void 0,t.createComputeNextPidState=function(e){var t=e.kp,n=e.ki,r=e.kd,o=e.dt;return function(e,i){var a=e.integral,u=e.error,c=a+i*o;return{integral:c,error:i,output:t*i+n*c+r*((i-u)/o)}}}},1230:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addForceToPlayerMatterBodyFromKeyboard=t.addForceToPlayerMatterBodyFromMouseCoordinate=void 0;var r,o=(r=n(9842))&&r.__esModule?r:{default:r},i=n(8),a=n(7599),u=n(204),c=n(7864),d=n(616),l=n(353),p=d.createComputeNextPidState({kp:.1,ki:.1,kd:.1,dt:1/60});function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.position,i=e.angle,a={x:r.x+Math.cos(i)*n,y:r.y+Math.sin(i)*n},u=n<0?-1:1,c=u*Math.cos(i+Math.PI/2)*t,d=u*Math.sin(i+Math.PI/2)*t,l={x:c,y:d};o.default.Body.applyForce(e,a,l)}t.addForceToPlayerMatterBodyFromMouseCoordinate=function(e,t,n,r,a){var c=function(e,t,n){var r=n.position,i=n.angle,a=l.calculatePositionRelativeToViewport(r,t),c=(2*Math.PI+o.default.Vector.angle(a,e))%(2*Math.PI),d=u.computeBoundAngle(i);return u.computeAngleBetween(c,d)/Math.PI}(t,n,r),d=p(a,c);s(r,10*d.output,-2.5),e(i.updatePlayerPidStateAction(d))},t.addForceToPlayerMatterBodyFromKeyboard=function(e,t){var n=e.keyStateMap,r=n[a.KeyCodesEnum.KEY_S].isActive,i=n[a.KeyCodesEnum.KEY_W].isActive;!function(e,t){var n=e.position,r=e.angle,i={x:Math.cos(r)*t,y:Math.sin(r)*t};o.default.Body.applyForce(e,n,i)}(t,1e3*c.calculateDirectionFromOpposingKeys(r,i));var u=n[a.KeyCodesEnum.KEY_A].isActive,d=n[a.KeyCodesEnum.KEY_D].isActive;s(t,500*c.calculateDirectionFromOpposingKeys(u,d))}},3142:function(e,t,n){function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){c=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(7042),n(8309),n(1038),n(2526),n(1817),n(2165),n(6992),n(1539),n(3948),n(1532),n(8783);var i=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},a=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateParallaxViewportCoordinate=t.calculateStarFieldBoundary=t.addStarsToField=t.populateStarField=t.repositionStarField=t.pruneStarField=t.BACKGROUND_PARALLAX_RATIO=void 0;var u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t}(n(6216));function c(e,t,n,r,o){var i,a,c;if(n.has(o)||n.set(o,new Map),!((null===(i=n.get(o))||void 0===i?void 0:i.has(r))||Math.random()>1/256)){var l={x:r,y:o},p=function(e,t){var n=d(t,e),r=2*Math.random(),o=Math.random(),i=new u.Graphics;return i.beginFill(16777215,o),i.lineStyle(0,0,1),i.drawCircle(0,0,r),i.endFill(),i.position.set(n.x,n.y),i}(t,l);null===(a=n.get(o))||void 0===a||a.set(r,{coordinate:l,rotation:0,pixiSprite:p}),null===(c=n.get(o))||void 0===c||c.set(r,{coordinate:l,rotation:0,pixiSprite:p}),e.addChild(p)}}function d(e,t){return{x:e.x-t.x,y:e.y-t.y}}t.BACKGROUND_PARALLAX_RATIO=.1,t.pruneStarField=function(e,t,n){var o,i,a,u,c,d=r(e.keys());try{for(d.s();!(c=d.n()).done;){var l=c.value,p=null===(o=e.get(l))||void 0===o?void 0:o.keys();if(p){var s,f=r(p);try{for(f.s();!(s=f.n()).done;){var y=s.value,v=null===(i=e.get(l))||void 0===i?void 0:i.get(y);v&&(l<t.y||l>n.y||y<t.x||y>n.x)&&(v.pixiSprite.destroy(),null===(a=e.get(l))||void 0===a||a.delete(y))}}catch(e){f.e(e)}finally{f.f()}0===(null===(u=e.get(l))||void 0===u?void 0:u.size)&&e.delete(l)}}}catch(e){d.e(e)}finally{d.f()}},t.repositionStarField=function(e,t){var n,o,i,a,u,c,l,p=r(t.keys());try{for(p.s();!(l=p.n()).done;){var s=l.value;t.has(s)||t.set(s,new Map);var f=null===(n=t.get(s))||void 0===n?void 0:n.keys();if(f){var y,v=r(f);try{for(v.s();!(y=v.n()).done;){var E=y.value,m=null===(o=t.get(s))||void 0===o?void 0:o.get(E);if(m){var O=d(m.coordinate,e);m.pixiSprite.position.set(O.x,O.y),i=i?Math.min(i,s):s,a=a?Math.max(a,s):s,u=u?Math.min(u,E):E,c=c?Math.max(c,E):E}}}catch(e){v.e(e)}finally{v.f()}}}}catch(e){p.e(e)}finally{p.f()}if(!(i&&a&&u&&c))throw new Error("No stars were found in the Star Field.");return{topLeft:{x:u,y:i},bottomRight:{x:c,y:a}}},t.populateStarField=function(e,t,n,r,o,i,a){if(r.y<i.y)for(var u=r.y;u<i.y;u++)for(var d=r.x;d<o.x;d++)c(e,t,n,d,u);if(o.y>a.y)for(var l=a.y+1;l<=o.y;l++)for(var p=r.x;p<o.x;p++)c(e,t,n,p,l);if(r.x<i.x)for(var s=r.x;s<i.x;s++)for(var f=r.y;f<o.y;f++)c(e,t,n,s,f);if(o.x>a.x)for(var y=a.x+1;y<=o.x;y++)for(var v=r.y;v<o.y;v++)c(e,t,n,y,v)},t.addStarsToField=function(e,t,n,r,o){for(var i=r.y;i<=o.y;i++)for(var a=r.x;a<=o.x;a++)c(e,t,n,a,i)},t.calculateStarFieldBoundary=function(e,t){var n=e.y-32,r=e.y+t.height+32;return{topLeft:{x:e.x-32,y:n},bottomRight:{x:e.x+t.width+32,y:r}}},t.calculateParallaxViewportCoordinate=function(e,t){return{x:e.x*t,y:e.y*t}}},353:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateUpdatedViewportCoordinateFromKeyboard=t.calculatePositionRelativeToViewport=t.calculateViewportCoordinate=void 0;var r=n(7592),o=n(7599),i=n(7864);t.calculateViewportCoordinate=function(e,t){return{x:e.x-t.width/2,y:e.y-t.height/2}},t.calculatePositionRelativeToViewport=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},t.calculateUpdatedViewportCoordinateFromKeyboard=function(e,t){var n=e.keyStateMap,a=n[o.KeyCodesEnum.KEY_J].isActive,u=n[o.KeyCodesEnum.KEY_L].isActive,c=n[o.KeyCodesEnum.KEY_I].isActive,d=n[o.KeyCodesEnum.KEY_K].isActive,l=function(e,t){var n=r.getViewportDimension(),o=n.width,a=n.height,u=Math.min(o,a)/20,c=e*u,d=t*u;if(e!==i.KeyDirectionsEnum.NEUTRAL&&t!==i.KeyDirectionsEnum.NEUTRAL){var l=Math.atan2(a,o);return{x:Math.cos(l)*c,y:Math.sin(l)*d}}return{x:c,y:d}}(i.calculateDirectionFromOpposingKeys(a,u),i.calculateDirectionFromOpposingKeys(c,d));return{x:t.x+l.x,y:t.y+l.y}}},1307:function(e,t,n){n.r(t)}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,e=[],r.O=function(t,n,o,i){if(!n){var a=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],i=e[d][2];for(var u=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(u=!1,i<a&&(a=i));u&&(e.splice(d--,1),t=o())}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,o,i]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={179:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,a=n[0],u=n[1],c=n[2],d=0;for(o in u)r.o(u,o)&&(r.m[o]=u[o]);if(c)var l=c(r);for(t&&t(n);d<a.length;d++)i=a[d],r.o(e,i)&&e[i]&&e[i][0](),e[a[d]]=0;return r.O(l)},n=self.webpackChunkcatfish_in_space=self.webpackChunkcatfish_in_space||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[695],(function(){return r(4909)}));o=r.O(o)}();